---
id: 3e3do7twpfj05g5bvqra16m
title: Concurrent
desc: ''
updated: 1668361168715
created: 1668357578661
---

## Обзор пакета java.util.concurrent

* collections
* synchronizers
* atomic
* queues
* locks
* executors

### collections

* CopyOnWriteArrayList - потокобезопасный аналог ArrayList. Реализует алгоритм CopyOnWrite.
* CopyOnWriteArraySet - аналогичен CopyOnWriteArrayList с реализацией интерфейса Set.
* ConcurrentHashMap - реализует ConcurrentMap и отличается внутренней структурой хранение. По сути внутренний массив бакетов разбит на некоторые сегменты, представляя собой группу HashMap'ов.   
Доступ к элементам осуществляется по сегментам, а не по объекту.

### synchronizers

* **Semaphore (семафор)** — объект синхронизации, ограничивающий одновременный доступ к общему ресурсу нескольким потокам с помощью счетчика. При запросе разрешения и значении счетчика больше нуля доступ предоставляется, а счетчик уменьшается; в противном случае — доступ запрещается. При освобождении ресурса значение счетчика семафора увеличивается. Количество разрешений семафора определяется в конструкторе.    

* **CountDownLatch** («защелка с обратным отсчетом») — объект синхронизации потоков, блокирующий один или несколько потоков до тех пор, пока не будут выполнены определенные условия. Количество условий задается счетчиком. При обнулении счетчика, т.е. при выполнении всех условий, блокировки выполняемых потоков будут сняты и они продолжат выполнение кода. Счетчик одноразовый и не может быть инициализирован по-новому.

* **CyclicBarrier** — объект синхронизации типа «Барьер» используется, как правило, в распределённых вычислениях. Барьерная синхронизация останавливает участника (исполняемый поток) в определенном месте в ожидании прихода остальных потоков группы. Как только все потоки достигнут барьера, барьер снимается и выполнение потоков продолжается. Циклический барьер CyclicBarrier, также, как и CountDownLatch, использует счетчик и похож на него, но барьер можно переиспользовать.

### atomic

Классы для выполнения атомарных операций над типами данных.   

Используетcя алгоритм Compare-And-Swap (CAS), реализуемый на уровне инструкций процессора.
При попытке изменить значение, происходит оптимистичная блокировка, позволяющая изменить значение только если оно равно ожидаемому значению.

### executors

* ThreadPoolExecutor - пул потоков
* ScheduledThreadPoolExecutor - расширенный пул для планирования потоков исполнения
* ForkJoinPool

Для их инициализации используются фабричные методы класса **Executors**.