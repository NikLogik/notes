---
id: 1vk1ng0bhl36cm6a0763u6e
title: "JPA"
desc: ""
updated: 1686734651487
created: 1668361293447
---

## JPA вопросы

https://habr.com/ru/post/265061/

N+1 проблема

https://habr.com/ru/company/otus/blog/529692/

## Entity equality hashcode()/equals()

### 1. Без переопределения

Использование equals() и hashcode() по-умолчанию имеет недостаток: сравнивая объекты, которые рассматриваются как одинаковые, они будут разными инициализациями одного класса и поэтому не равны между собой.

### 2. Ключ базы данных

Преимущества: т.к. большинство сущностей имеют первичный ключ, который определяет их уникальность, то переопределяя его в equals()/hashcode() они будут сравниваться только по нему.
Недостатки: при создании новых сущностей, их первичный ключ может быть null, т.к. выдается самой базой данных.

### 3. Бизнесс ключ

Преимущества: нет привязки к первичным ключам, выдаваемым базой данных, поэтому по нему всегда можно определить уникальность.
Недостатки: такой ключ не всегда можно определить.
